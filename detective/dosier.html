<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Dossier del Detective</title>
<link rel="stylesheet" href="estilo.css">
<style>
  #dossier { display:flex; flex-wrap: wrap; }
  .caso-dossier { border:2px solid #333; border-radius:8px; background:#fff; width:45%; margin:10px; padding:10px; box-shadow:2px 2px 5px rgba(0,0,0,0.2);}
  .caso-dossier h2 { margin-top:0; }
  .pista-item { margin-bottom:5px; }
</style>
</head>
<body>
<h1>Dossier del Detective</h1>
<div id="dossier"></div>

<script>
const casos = ["caso1","caso2","caso3","caso4"];
const nombreCasos = {
  "caso1":"El Faro",
  "caso2":"El Museo",
  "caso3":"La MansiÃ³n",
  "caso4":"El Tren Nocturno"
};

function cargarDossier(){
  const cont = document.getElementById("dossier");
  cont.innerHTML = "";
  casos.forEach(caso=>{
    const div = document.createElement("div");
    div.className="caso-dossier";
    const titulo = document.createElement("h2");
    titulo.textContent = nombreCasos[caso];
    div.appendChild(titulo);

    const pistasDiv = document.createElement("div");
    pistasDiv.innerHTML="<strong>Pistas encontradas:</strong><br>";
    let pistas = JSON.parse(localStorage.getItem("pistas"+caso)) || [];
    pistas.forEach(p=>{
      const pDiv = document.createElement("div");
      pDiv.className="pista-item";
      let desc = localStorage.getItem(`desc-${caso}-${p}`) || p;
      pDiv.textContent = `${p}: ${desc}`;
      pistasDiv.appendChild(pDiv);
    });
    div.appendChild(pistasDiv);

    const secretasDiv = document.createElement("div");
    secretasDiv.innerHTML="<strong>Pistas Secretas / Documentos:</strong><br>";
    let secretas = JSON.parse(localStorage.getItem("pistasSecretas"+caso)) || [];
    secretas.forEach(s=>{
      const sDiv = document.createElement("div");
      sDiv.className="pista-item";
      let desc = localStorage.getItem(`desc-${caso}-${s}`) || s;
      sDiv.textContent = `${s}: ${desc}`;
      secretasDiv.appendChild(sDiv);
    });
    div.appendChild(secretasDiv);

    cont.appendChild(div);
  });
}

cargarDossier();
</script>
</body>
</html>
