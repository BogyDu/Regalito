<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Plataforma de pr√°ctica educativa</title>

<style>
body{font-family:system-ui,Arial;background:#f2f4f8;margin:0}
header{background:#2d6cdf;color:#fff;padding:15px;text-align:center}
.container{max-width:800px;margin:auto;background:#fff;min-height:100vh;padding:20px}
button{width:100%;padding:14px;margin:10px 0;font-size:16px;border:none;border-radius:8px;background:#2d6cdf;color:white}
.secondary{background:#ccc;color:black}
.option{background:#eef1f6;padding:14px;border-radius:8px;margin:10px 0;cursor:pointer}
.option.correct{background:#c8f7c5;border:2px solid #2ecc71}
.option.incorrect{background:#f7c5c5;border:2px solid #e74c3c}
.option.disabled{pointer-events:none}
.progress{text-align:center;font-size:14px;margin-bottom:10px}
.hidden{display:none}
.review{background:#f9fafc;padding:15px;border-radius:8px;margin-bottom:10px}
.ok{color:#2ecc71;font-weight:bold}
.ko{color:#e74c3c;font-weight:bold}
</style>
</head>

<body>

<header>
<h2>Plataforma de pr√°ctica tipo test</h2>
</header>

<div class="container">

<div id="menu">
<button onclick="startTest('t1')">Tema 1 ¬∑ Comunidades de Aprendizaje</button>
<button onclick="startTest('t2')">Tema 2 ¬∑ Dificultades de Aprendizaje</button>
<button onclick="startTest('tic')">Tema TIC ¬∑ Aprendizaje Conectado</button>
</div>

<div id="test" class="hidden">
<div class="progress" id="progress"></div>
<div id="questionBox"></div>
<button class="secondary" onclick="prev()">Anterior</button>
<button onclick="next()">Siguiente</button>
<button id="finishBtn" class="hidden" onclick="finish()">Finalizar</button>
</div>

<div id="review" class="hidden"></div>

</div>

<script>
const banco = {

t1: [
{q:"La neuroeducaci√≥n tiene como finalidad principal:",a:["Diagnosticar trastornos","Aplicar conocimientos del cerebro a la educaci√≥n","Sustituir la pedagog√≠a","Evaluar el rendimiento"],c:1,ref:"Tema 1 ‚Äì Neuroeducaci√≥n"},
{q:"La neuroplasticidad se define como:",a:["Rigidez cerebral","Capacidad del cerebro para cambiar","Una etapa","Un trastorno"],c:1,ref:"Tema 1 ‚Äì Neuroplasticidad"},
{q:"Jean Piaget es conocido por:",a:["NGF","Etapas del desarrollo","Cerebro triuno","DSM"],c:1,ref:"Tema 1 ‚Äì Autores"},
{q:"El neurodesarrollo es un proceso:",a:["Est√°tico","Din√°mico y continuo","Limitado a la infancia","Irreversible"],c:1,ref:"Tema 1 ‚Äì Neurodesarrollo"},
{q:"Las dificultades de aprendizaje son:",a:["Permanentes","Transitorias","Irreversibles","Gen√©ticas"],c:1,ref:"Tema 1 ‚Äì Dificultades"},
{q:"Los trastornos del desarrollo son:",a:["Situacionales","Permanentes","Escolares","Leves"],c:1,ref:"Tema 1 ‚Äì Trastornos"},
/* ‚Ä¶ hasta 50 */
],

t2: [
{q:"Las teor√≠as mecanicistas explican las dificultades desde:",a:["El contexto","El individuo","La escuela","La familia"],c:1,ref:"Tema 2 ‚Äì Teor√≠as mecanicistas"},
{q:"Las teor√≠as contextualistas atribuyen las dificultades a:",a:["Genes","Ambiente","Da√±o cerebral","Edad"],c:1,ref:"Tema 2 ‚Äì Teor√≠as contextualistas"},
{q:"Las teor√≠as interaccionistas combinan:",a:["Escuela-familia","Individuo-ambiente","Castigo-premio","Evaluaci√≥n-apoyo"],c:1,ref:"Tema 2 ‚Äì Teor√≠as interaccionistas"},
{q:"La LOMLOE es la ley vigente desde:",a:["2015","2018","2020","2023"],c:2,ref:"Tema 2 ‚Äì LOMLOE"},
{q:"El ACNEAE es:",a:["Solo discapacidad","Categor√≠a amplia de apoyo","Solo TDAH","Altas capacidades"],c:1,ref:"Tema 2 ‚Äì ACNEAE"},
{q:"El ACNEE se caracteriza por:",a:["Altas capacidades","Barreras por discapacidad o trastornos graves","Migraci√≥n","Vulnerabilidad social"],c:1,ref:"Tema 2 ‚Äì ACNEE"},
/* ‚Ä¶ hasta 50 */
],

tic: [
{q:"El conectivismo sostiene que el aprendizaje se produce:",a:["De forma individual","En red y colaborativamente","Solo en el aula","Por memorizaci√≥n"],c:1,ref:"TIC ‚Äì Conectivismo"},
{q:"Una red social abierta se caracteriza por:",a:["Acceso restringido","Interacci√≥n libre","Uso educativo","Tem√°tica cerrada"],c:1,ref:"TIC ‚Äì Redes sociales"},
{q:"Las redes verticales se definen por:",a:["Ser abiertas","No tener tem√°tica","Tener un inter√©s concreto","Ser privadas"],c:2,ref:"TIC ‚Äì Tipos de redes"},
{q:"Los hashtags y menciones son:",a:["Narrativas digitales","C√≥digos comunicativos","Lenguaje formal","Errores"],c:1,ref:"TIC ‚Äì Comunicaci√≥n en red"},
{q:"Los emoticonos y GIFs forman parte de:",a:["Lenguaje acad√©mico","Nuevas narrativas digitales","Errores gramaticales","Spam"],c:1,ref:"TIC ‚Äì Nuevas narrativas"},
{q:"El ODS 4 promueve:",a:["Educaci√≥n selectiva","Educaci√≥n inclusiva y de calidad","Competitividad","Exclusi√≥n"],c:1,ref:"TIC ‚Äì ODS 4"},
/* ‚Ä¶ hasta 50 */
]
};

let preguntas=[],index=0,respuestas=[],tema="";

function startTest(t){
    tema=t;
    preguntas=shuffle([...banco[t]]).slice(0,10);
    respuestas=[];
    index=0;
    sessionStorage.setItem("intentos_"+t,(+sessionStorage.getItem("intentos_"+t)||0)+1);
    document.getElementById("menu").classList.add("hidden");
    document.getElementById("test").classList.remove("hidden");
    render();
}

function render(){
    const p=preguntas[index];
    document.getElementById("progress").innerText=`Pregunta ${index+1} de 10`;
    let html=`<h3>${p.q}</h3>`;
    shuffle(p.a.map((x,i)=>({x,i}))).forEach(o=>{
        html+=`<div class="option" onclick="answer(${o.i})" id="opt${o.i}">${o.x}</div>`;
    });
    document.getElementById("questionBox").innerHTML=html;
    document.getElementById("finishBtn").classList.toggle("hidden",index<9);
}

function answer(sel){
    if(respuestas[index]!=null) return;
    respuestas[index]=sel;
    const correct=preguntas[index].c;
    preguntas[index].a.forEach((_,i)=>{
        const el=document.getElementById("opt"+i);
        if(!el) return;
        el.classList.add("disabled");
        if(i===correct) el.classList.add("correct");
        if(i===sel && i!==correct) el.classList.add("incorrect");
    });
}

function next(){if(index<9){index++;render();}}
function prev(){if(index>0){index--;render();}}

function finish(){
    document.getElementById("test").classList.add("hidden");
    const r=document.getElementById("review");
    r.innerHTML="<h3>Revisi√≥n final</h3>";
    preguntas.forEach((p,i)=>{
        const ok=respuestas[i]===p.c;
        r.innerHTML+=`
        <div class="review">
        <span class="${ok?"ok":"ko"}">${ok?"‚úî Correcta":"‚úò Incorrecta"}</span><br>
        ${p.q}<br>
        ${!ok?`üìÑ Repasar en: <em>${p.ref}</em>`:""}
        </div>`;
    });
    r.classList.remove("hidden");
}

function shuffle(a){return a.sort(()=>Math.random()-0.5);}
</script>

</body>
</html>