<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>IPTV Web</title>
<style>
body { margin:0; display:flex; height:100vh; font-family:Arial; }
#canales { width:300px; overflow-y:auto; border-right:1px solid #ccc; }
#canales div { padding:8px; cursor:pointer; }
#canales div:hover { background:#eee; }
video { flex:1; }
</style>
</head>
<body>

<div id="canales"></div>
<video id="player" controls autoplay></video>

<script>
const M3U_URL = "https://iptv-org.github.io/iptv/index.m3u"

fetch(M3U_URL)
  .then(r => r.text())
  .then(data => {
    const lines = data.split("\n");
    let nombre = "";

    lines.forEach(line => {
      if (line.startsWith("#EXTINF")) {
        nombre = line.split(",")[1];
      } else if (line.startsWith("http")) {
        const div = document.createElement("div");
        div.textContent = nombre;
        div.onclick = () => {
          document.getElementById("player").src = line.trim();
        };
        document.getElementById("canales").appendChild(div);
      }
    });
  })
  .catch(err => console.error("Error cargando M3U:", err));
</script>

</body>
</html>
