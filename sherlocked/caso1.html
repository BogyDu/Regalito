<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Caso 1 - El Faro</title>
<link rel="stylesheet" href="estilo.css">
</head>
<body class="caso">
<h1>Caso 1: El Faro</h1>

<div id="panel-izquierdo">
  <div class="carpeta"><div class="etiqueta">Pistas</div><div class="contenido" id="pistas-seccion"></div></div>
  <div class="carpeta"><div class="etiqueta">Sospechosos</div><div class="contenido" id="sospechosos-seccion"></div></div>
  <div class="carpeta"><div class="etiqueta">Confrontaciones</div>
    <div class="contenido"><select id="conf1"></select><select id="conf2"></select><button onclick="confrontar()">Confrontar</button></div>
  </div>
  <div class="carpeta"><div class="etiqueta">Interrogatorio</div>
    <div class="contenido"><select id="inter-sospechoso"></select>
    <select id="inter-pregunta">
      <option value="">-- Selecciona pregunta --</option>
      <option value="donde">Â¿DÃ³nde estabas la noche del crimen?</option>
      <option value="motivo">Â¿TenÃ­as algÃºn motivo?</option>
      <option value="relacion">Â¿ConocÃ­as a alguien involucrado?</option>
    </select>
    <button onclick="interrogar()">Interrogar</button>
    </div>
  </div>
  <div class="carpeta"><div class="etiqueta">Resolver Caso</div>
    <div class="contenido"><select id="culpable"></select><button onclick="resolverCaso()">Resolver</button></div>
  </div>
</div>

<div id="panel-derecho">
  <div class="carpeta"><div class="etiqueta">Pistas Mostradas</div><div class="contenido" id="pistas"></div></div>
  <div class="carpeta"><div class="etiqueta">Sospechosos Mostrados</div><div class="contenido" id="sospechosos"></div></div>
  <div class="carpeta"><div class="etiqueta">ConfrontaciÃ³n / Resultados</div><div class="contenido" id="confrontacion"></div></div>
  <div class="carpeta"><div class="etiqueta">Respuestas Interrogatorio</div><div class="contenido" id="respuesta-interrogatorio"></div></div>
  <div class="carpeta"><div class="etiqueta">Resultado del Caso</div><div class="contenido" id="resultado"></div></div>
</div>

<button onclick="window.open('dossier.html','Dossier','width=900,height=600,scrollbars=yes')">ðŸ“‚ Abrir Dossier</button>

<script src="caso-generico.js"></script>
<script>
window.casoActual = "caso1";

// Pistas iniciales del caso
const pistas = {
  "Huella en la ventana": "Se encontrÃ³ una huella parcial en la ventana norte del faro.",
  "Llave del faro": "Una llave antigua fue hallada en la caja fuerte del faro.",
  "Zapato roto": "Un zapato con suela rota fue encontrado cerca de la escena del crimen."
};

// Sospechosos
const sospechosos = {
  "Sofia": "Vecina del faro, conoce a todos los trabajadores.",
  "Mateo": "Ayudante del farero, tenÃ­a acceso a todas las Ã¡reas.",
  "Clara": "FotÃ³grafa que estaba en el lugar por un encargo.",
  "Javier": "Historiador que investigaba el faro.",
  "Lucas": "Guarda del faro, entrada restringida."
};

// Respuestas a interrogatorios
const respuestas = {
  "Sofia": {
    "Â¿QuÃ© viste la noche del crimen?": "Vi a Mateo salir del faro a las 10 pm.",
    "Â¿Conoces a los demÃ¡s sospechosos?": "SÃ­, los he visto varias veces en el faro."
  },
  "Mateo": {
    "Â¿DÃ³nde estabas a las 10 pm?": "Estaba con Claraâ€¦ pero el diario del faro muestra que eso no coincide.",
    "Â¿Ves a alguien sospechoso?": "No puedo decir, todos parecen normales."
  },
  "Clara": {
    "Â¿QuÃ© estabas haciendo en el faro?": "Tomando fotos de la torre.",
    "Â¿Viste algo extraÃ±o?": "No, todo parecÃ­a tranquilo."
  },
  "Javier": {
    "Â¿CuÃ¡l era tu propÃ³sito en el faro?": "Investigar la historia del faro.",
    "Â¿Alguien mÃ¡s estaba allÃ­?": "SÃ­, vi a Mateo y Lucas."
  },
  "Lucas": {
    "Â¿Guardabas el faro esa noche?": "SÃ­, estuve revisando cada hora.",
    "Â¿Alguien entrÃ³ sin permiso?": "No estoy seguro, pero la puerta estaba cerrada."
  }
};

// Culpable real
const culpableReal = "Mateo";

// Contradicciones que desbloquean pistas secretas
const contradicciones = {
  "Sofia-Mateo": {
    texto: "SofÃ­a dice que vio a Mateo salir del faro a las 10 pm, pero Mateo afirma que estaba con Clara.",
    pista: "Documento Secreto: Diario del Faro"
  },
  "Javier-Lucas": {
    texto: "Javier vio a Lucas cerca de la torre, pero Lucas dice que estaba en la entrada.",
    pista: "Carta del Historiador"
  }
};

// Funciones de caso generico (se asume que se importa caso-generico.js)
// mostrarPista(id), mostrarSospechoso(id), interrogar(), confrontar(), resolverCaso(), inicializarCaso()

// Guardar pistas secretas con descripciÃ³n completa
const pistasSecretasDescripcion = {
  "Documento Secreto: Diario del Faro": "El diario revela que Mateo estuvo en el faro a las 10 pm y que hay inconsistencias en su coartada.",
  "Carta del Historiador": "La carta indica que alguien manipulÃ³ las luces del faro antes del asesinato."
};

// Inicializar caso y agregar pistas secretas a localStorage si no existen
for(const key in pistasSecretasDescripcion){
  if(!localStorage.getItem(`desc-${window.casoActual}-${key}`)){
    localStorage.setItem(`desc-${window.casoActual}-${key}`, pistasSecretasDescripcion[key]);
  }
}
</script>
</body>
</html>
